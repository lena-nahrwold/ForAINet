# @package data
defaults:
  - panoptic/default

task: custom
class: ufg_inference.PLYInferenceDataset
dataroot: /dpb/data/
ply_file: reference_xyz.ply

first_subsampling: 0.2

pre_collate_transform:
  - transform: SaveOriginalPosId
  - transform: GridSampling3D
    params:
      size: 0.2
      mode: last
test_transform:
  - transform: XYZRelaFeature
    params: { add_x: True, add_y: True, add_z: True }
  - transform: XYZFeature
    params: { add_x: False, add_y: False, add_z: True }
  - transform: AddFeatsByKeys
    params:
      list_add_to_x: [True, True, True, True]
      feat_names: [pos_x_rela, pos_y_rela, pos_z_rela, pos_z]
      delete_feats: [False, False, False, False]
      #delete_feats: [True, True, True, True]
  - transform: Center
  - transform: GridSampling3D
    params:
      size: 0.2
      quantize_coords: True
      mode: last